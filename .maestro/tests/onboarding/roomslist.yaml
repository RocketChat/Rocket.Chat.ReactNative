appId: chat.rocket.reactnative
name: Rooms List
onFlowStart:
  - runFlow: '../../helpers/setup.yaml'
onFlowEnd:
  - evalScript: ${output.utils.deleteCreatedUsers()}
tags:
  - test-1

---
- evalScript: ${output.user = output.utils.createUser()}
- runFlow:
    file: '../../helpers/login-with-deeplink.yaml'
    env:
      username: ${output.user.username}
      password: ${output.user.password}

- assertVisible:
    id: 'rooms-list-view'
- assertVisible:
    id: 'rooms-list-view-item-general'
- assertVisible:
    id: 'rooms-list-view-create-channel'
- assertVisible:
    id: 'rooms-list-view-sidebar'
- runFlow:
    file: ../../helpers/search-room.yaml
    env:
      ROOM: general
