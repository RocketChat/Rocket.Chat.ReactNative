appId: chat.rocket.reactnative
name: Navigate to room action
tags:
  - 'util'

---
- runFlow:
    when:
      notVisible:
        id: 'room-view'
    commands:
      - runFlow:
          file: './search-and-navigate-room.yaml'
          env:
            ROOM: ${ROOM}
            EXTENDED_SEARCH_TIMEOUT: ${EXTENDED_SEARCH_TIMEOUT}

- extendedWaitUntil:
    visible:
      id: 'room-view'
    timeout: 60000
- assertVisible:
    id: 'room-header'
    index: 0
- tapOn:
    id: 'room-header'
    index: 0
- extendedWaitUntil:
    visible:
      id: 'room-actions-view'
    timeout: 60000
